<!--
=============================================================================
Sync Impact Report
=============================================================================
Version Change: 1.0.1 → 1.1.0 (Minor - Python必須プラクティスの追加)

Modified Principles:
- なし（既存原則は変更なし）

Added Sections:
- IV. 型安全性の確保（NON-NEGOTIABLE）: 型ヒント必須化、静的型チェック
- V. パッケージ構造の明確化: トップレベルパッケージ、名前空間管理

Removed Sections:
- なし

Templates Requiring Updates:
- ✅ .specify/templates/spec-template.md (確認済み - 日本語対応済み)
- ✅ .specify/templates/plan-template.md (確認済み - Constitution Checkセクション存在)
- ✅ .specify/templates/tasks-template.md (確認済み - TDD原則が反映可能)
- ⚠️ 実装フェーズで型ヒントとパッケージ構造の準拠を検証する必要あり

Follow-up TODOs:
- なし（全プレースホルダー置換済み）

Version Bump Rationale:
- MINOR: 新原則（型安全性、パッケージ構造）の追加
- Python開発における必須プラクティスを憲章レベルで明文化
- 既存原則との互換性は維持
=============================================================================
-->

# Qeel Constitution

## Core Principles

### I. 日本語優先

すべてのアウトプット（ユーザとの会話、仕様書・計画書などのMarkdown成果物、実装コードのdocstringやコメント）は**必ず日本語**で記述しなければならない。これにより、プロジェクト全体の一貫性と日本語話者にとっての可読性を確保する。

**理由**: プロジェクトの主要な開発者とステークホルダーが日本語話者であり、コミュニケーションの明確性とドキュメントの保守性を最大化するため。

### II. 可読性最重視（NON-NEGOTIABLE）

コードとドキュメントの**可読性を最優先**する。短縮形や難解な実装より、明確で理解しやすいコードを選択すること。

**必須事項**:
- 変数名・関数名は意図を明確に表現する（略語の使用は最小限に）
- 複雑なロジックには日本語コメントを必須とする
- コードレビューにおいて可読性が最重要な評価基準となる
- 「動けばよい」ではなく「読んで理解できる」ことを優先

**理由**: 長期的な保守性、バグの早期発見、チーム全体の生産性向上のため。

### III. テスト駆動開発（TDD）（NON-NEGOTIABLE）

テスト駆動開発を**厳守**する。Red-Green-Refactorサイクルを必ず守ること。

**必須事項**:
- 実装前に必ずテストを作成する
- テストが失敗することを確認してから実装を開始する
- 包括的なテストカバレッジを維持する
- モックやスタブを適切に利用し、テスタビリティを確保する

**理由**: コードの品質保証、リグレッション防止、仕様の明確化、リファクタリングの安全性確保のため。

### IV. 型安全性の確保（NON-NEGOTIABLE）

すべてのPythonコードに**型ヒント（Type Hints）を必須**とする。静的型チェックにより、実行前に型の不整合を検出する。

**必須事項**:
- すべての関数・メソッドに引数と戻り値の型ヒントを記述する
- クラスの属性に型アノテーションを記述する
- 静的型チェッカー（mypy等）を実行し、型エラーをゼロにする
- `Any`型の使用は明確に正当化する必要がある
- 外部ライブラリの型スタブが利用可能な場合は必ず使用する

**理由**: 型の不整合による実行時エラーを防止し、IDEの補完機能を最大限活用し、コードの自己文書化と保守性を向上させるため。

### V. パッケージ構造の明確化

Pythonプロジェクトでは**トップレベルパッケージを使用**し、名前空間の衝突を避け、import文を明確にする。

**必須事項**:
- `src/` 配下にプロジェクト固有のトップレベルパッケージを配置する
- すべてのディレクトリに`__init__.py`を配置し、パッケージとして明示する
- 一般的な名前（`clients`, `config`, `utils`等）は必ずトップレベルパッケージ配下に配置する
- import文は絶対importを使用する（例: `from qeel.clients.base import BaseClient`）
- パッケージとして配布可能な構造を維持する（`pyproject.toml`での管理）

**理由**: 名前空間の衝突を防ぎ、プロジェクトの境界を明確にし、他のプロジェクトやライブラリとの統合を容易にするため。

## Governance

### 憲章の位置づけ

この憲章はすべての開発プラクティスに優先する。すべてのPR、コードレビュー、設計判断において本憲章への準拠を検証しなければならない。

技術スタック、アーキテクチャ、具体的な実装詳細は憲章の対象外であり、仕様書（Specification）やプロジェクトドキュメントで管理する。

### 修正プロセス

憲章の修正には以下が必要:
- 修正内容の文書化
- 影響を受けるテンプレート・コードの移行計画
- チーム全体の承認

### バージョニングポリシー

- **MAJOR**: 後方互換性のない原則の削除または再定義
- **MINOR**: 新原則・セクションの追加または重要な拡張
- **PATCH**: 明確化、文言修正、誤字修正、非意味的改善

### コンプライアンスレビュー

- すべてのPRは憲章準拠を確認する
- 複雑性の導入は明確に正当化する必要がある
- 実装時の判断に迷った場合はこの憲章を参照する

**Version**: 1.1.0 | **Ratified**: 2025-10-26 | **Last Amended**: 2025-11-11
